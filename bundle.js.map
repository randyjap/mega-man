{"version":3,"sources":["webpack:///webpack/bootstrap 83a39da8f20e1feca15f","webpack:///./entry.js","webpack:///./lib/game.js","webpack:///./lib/levels.js","webpack:///./lib/canvas.js","webpack:///./lib/vector_util.js","webpack:///./lib/sprites.js"],"names":["document","addEventListener","restartButton","getElementById","e","preventDefault","canvas","cancelAnimationFrame","window","animation","body","removeChild","proxy","play","arrowCodes","Game","plan","grid","sprites","width","length","height","y","row","transformedRow","x","chr","fieldType","Sprite","characters","push","megaman","filter","player","type","boss","gameStatus","prototype","findCollision","pos","size","left","Math","floor","right","ceil","top","bottom","findOverlappingObject","i","other","maxStep","animate","step","keys","thisStep","min","forEach","act","spriteOverlapAction","sprite","hitPoints","hit","trackKeys","codes","pressed","Object","create","handler","event","hasOwnProperty","keyCode","down","runAnimation","frameFunc","lastTime","frame","time","stop","timeStep","requestAnimationFrame","arrows","start","level","Canvas","gameContinues","display","drawFrame","plans","startLevel","n","console","log","levels","spriteSize","spriteRoll","createElement","src","flipHorizontally","context","around","translate","scale","parent","id","innerWidth","appendChild","cx","getContext","animationTime","facingRight","viewport","Date","clear","parentNode","updateViewport","clearDisplay","drawBackground","drawSprites","view","margin","center","plus","times","max","fillStyle","fillRect","xPosition","yPosition","spriteFrameNumber","drawImage","farewellMessage","messageNumber","drawMegaMan","speed","rectangle","Path2D","rect","stroke","save","restore","drawBoss","destroyed","random","drawBullet","VectorUtil","factor","Boss","Bullet","Megaman","gravity","jumpSpeed","megamanXSpeed","bossFiringRate","megamanFiringRate","lastFire","moveY","game","motion","newPos","collidedObject","cFire","fireRight","otherSprite","bulletType","moveX","up","shoot"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 83a39da8f20e1feca15f","import { play } from './lib/game.js';\nimport { levels } from './lib/levels.js';\nimport { Canvas } from './lib/canvas.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  play(levels, Canvas);\n  let restartButton = document.getElementById(\"restart\");\n  restartButton.addEventListener(\"click\", e => {\n    e.preventDefault();\n\n    let canvas = document.getElementById(\"canvas\");\n    if (canvas) {\n      cancelAnimationFrame(window.animation);\n      document.body.removeChild(canvas);\n      play(levels, Canvas);\n    } else {\n      play(levels, Canvas);\n    }\n  });\n\n  let proxy = document.getElementById(\"pause\");\n  proxy.addEventListener(\"click\", e => {\n    e.preventDefault();\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./entry.js","import { VectorUtil } from './vector_util';\nimport { Boss, Bullet, Megaman } from './sprites';\n\nlet arrowCodes = { 65: \"left\", 87: \"up\", 68: \"right\", 32: \"shoot\" };\n\nfunction Game(plan) {\n  this.grid = [];\n  this.sprites = [];\n  this.width = plan[0].length;\n  this.height = plan.length;\n\n  for (let y = 0; y < this.height; y++) {\n    let row = plan[y], transformedRow = [];\n    for (let x = 0; x < this.width; x++) {\n      let chr = row[x];\n      let fieldType = null;\n      let Sprite = characters[chr];\n      if (Sprite)\n        this.sprites.push(new Sprite(new VectorUtil(x, y), chr));\n      else if (chr === \"#\")\n        fieldType = \"block\";\n      else if (chr === \"W\")\n        fieldType = \"water\";\n      transformedRow.push(fieldType);\n    }\n    this.grid.push(transformedRow);\n  }\n\n  this.megaman = this.sprites.filter(player => {\n    return player.type === \"megaman\";\n  })[0];\n\n  this.boss = this.sprites.filter(player => {\n    return player.type === \"boss\";\n  })[0];\n\n  this.gameStatus = null;\n}\n\nlet characters = {\n  \"M\": Megaman,\n  \"B\": Boss\n};\n\nGame.prototype.findCollision = function(pos, size) {\n  let left = Math.floor(pos.x);\n  let right = Math.ceil(pos.x + size.x);\n  let top = Math.floor(pos.y);\n  let bottom = Math.ceil(pos.y + size.y);\n\n  if (left < 0 || right > this.width || top < 0) return \"block\";\n\n  for (let y = top; y < bottom; y++) {\n    for (let x = left; x < right; x++) {\n      let fieldType = this.grid[y][x];\n      if (fieldType) return fieldType;\n    }\n  }\n};\n\nGame.prototype.findOverlappingObject = function(player) {\n  for (let i = 0; i < this.sprites.length; i++) {\n    let other = this.sprites[i];\n    if (other !== player &&\n        player.pos.x + player.size.x > other.pos.x &&\n        player.pos.x < other.pos.x + other.size.x &&\n        player.pos.y + player.size.y > other.pos.y &&\n        player.pos.y < other.pos.y + other.size.y)\n      return other;\n  }\n};\n\nlet maxStep = 0.05;\n\nGame.prototype.animate = function(step, keys) {\n  while (step > 0) {\n    let thisStep = Math.min(step, maxStep);\n    this.sprites.forEach(function(player) {\n      player.act(thisStep, this, keys);\n    }, this);\n    step -= thisStep;\n  }\n};\n\nGame.prototype.spriteOverlapAction = function(type, player, sprite) {\n  if (type === \"water\" && this.gameStatus === null) {\n    if (this.megaman.hitPoints > 0) this.megaman.hitPoints -= 0.3;\n    if (this.megaman.hitPoints <= 0) {\n      this.gameStatus = \"lost\";\n    }\n    this.megaman.hit = true;\n  } else if (type === \"friendly-bullet\" && sprite && sprite.type === \"boss\" && this.gameStatus === null) {\n    sprite.hitPoints--;\n    sprite.hit = true;\n    if (sprite.hitPoints <= 0) {\n      this.gameStatus = \"won\";\n    }\n  } else if (type === \"unfriendly-bullet\" && sprite && sprite.type === \"megaman\" && this.gameStatus === null) {\n    sprite.hitPoints--;\n    sprite.hit = true;\n    if (sprite.hitPoints <= 0) {\n      this.gameStatus = \"lost\";\n    }\n  }\n};\n\nfunction trackKeys(codes) {\n  let pressed = Object.create(null);\n  function handler(event) {\n    if (codes.hasOwnProperty(event.keyCode)) {\n      let down = event.type === \"keydown\";\n      pressed[codes[event.keyCode]] = down;\n      event.preventDefault();\n    }\n  }\n  addEventListener(\"keydown\", handler);\n  addEventListener(\"keyup\", handler);\n  return pressed;\n}\n\nfunction runAnimation(frameFunc) {\n  let lastTime = null;\n  function frame(time) {\n    let stop = false;\n    if (lastTime !== null) {\n      let timeStep = Math.min(time - lastTime, 100) / 1000;\n      stop = frameFunc(timeStep) === false;\n    }\n    lastTime = time;\n    if (!stop)\n      window.animation = requestAnimationFrame(frame);\n  }\n  requestAnimationFrame(frame);\n}\n\nlet arrows = trackKeys(arrowCodes);\n\nfunction start(level, Canvas, gameContinues) {\n  let display = new Canvas(document.body, level);\n  window.display = display;\n  runAnimation(function(step) {\n    level.animate(step, arrows);\n    display.drawFrame(step);\n  });\n}\n\nexport function play(plans, Canvas) {\n  function startLevel(n) {\n    start(new Game(plans[n]), Canvas, function(gameStatus) {\n      if (gameStatus === \"lost\")\n        console.log(gameStatus);\n      else if (gameStatus === \"won\")\n        console.log(gameStatus);\n    });\n  }\n  startLevel(0);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","export let levels = [\n  [\"                                                                                \",\n   \"                                                                                \",\n   \"                                                                                \",\n   \"                                                                                \",\n   \"                                                                                \",\n   \"                                                                                \",\n   \"                                                                                \",\n   \"                                                                                \",\n   \"                                                                                \",\n   \"                                         B                                      \",\n   \"     M           ###                   #####                ########            \",\n   \"WW############WWWWWWWWW####WWW########################WWWWWWWWWW#############WWW\",\n   \"                                                                                \",]\n ];\n\n\n\n// WEBPACK FOOTER //\n// ./lib/levels.js","let spriteSize = 50;\nlet spriteRoll = document.createElement(\"img\");\nspriteRoll.src = \"images/megaman.png\";\n\nfunction flipHorizontally(context, around) {\n  context.translate(around, 0);\n  context.scale(-1, 1);\n  context.translate(-around, 0);\n}\n\nexport function Canvas(parent, level) {\n  this.canvas = document.createElement(\"canvas\");\n  this.canvas.id = \"canvas\";\n  this.canvas.width = Math.min(window.innerWidth, level.width * spriteSize);\n  this.canvas.height = Math.min(window.innerWidth / 3, level.height * spriteSize);\n  parent.appendChild(this.canvas);\n  this.cx = this.canvas.getContext(\"2d\");\n\n  this.level = level;\n  this.animationTime = 0;\n  this.facingRight = false;\n\n  this.viewport = {\n    left: 0,\n    top: 0,\n    width: this.canvas.width / spriteSize,\n    height: this.canvas.height / spriteSize\n  };\n\n  this.start = new Date();\n  this.drawFrame(0);\n}\n\nCanvas.prototype.clear = function() {\n  this.canvas.parentNode.removeChild(this.canvas);\n};\n\nCanvas.prototype.drawFrame = function(step) {\n  this.animationTime += step;\n\n  this.updateViewport();\n  this.clearDisplay();\n  this.drawBackground();\n  this.drawSprites();\n};\n\nCanvas.prototype.updateViewport = function() {\n  let view = this.viewport, margin = view.width / 6;\n  let megaman = this.level.megaman;\n  let center = megaman.pos.plus(megaman.size.times(0.5));\n\n  if (center.x < view.left + margin * 2) {\n    view.left = Math.max(center.x - margin * 2, 0);\n  }  else if (center.x > view.left + view.width - margin * 2) {\n    view.left = Math.min(center.x + margin * 2 - view.width, this.level.width - view.width);\n  }\n\n  if (center.y < view.top + margin) {\n    view.top = Math.max(center.y - margin, 0);\n  }  else if (center.y > view.top + view.height - margin) {\n    view.top = Math.min(center.y + margin - view.height, this.level.height - view.height);\n  }\n};\n\nCanvas.prototype.clearDisplay = function() {\n  if (this.level.gameStatus === \"won\") {\n    //TODO\n    console.log(\"YOU WON!\");\n  } else if (this.level.gameStatus === \"lost\") {\n    //TODO\n    console.log(\"YOU LOST!\");\n  } else {\n    this.cx.fillStyle = \"lightblue\";\n  }\n  // Don't forget to make things transparent!\n  this.cx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n};\n\nCanvas.prototype.drawBackground = function() {\n  let view = this.viewport;\n  let left = Math.floor(view.left);\n  let right = Math.ceil(view.left + view.width);\n  let top = Math.floor(view.top);\n  let bottom = Math.ceil(view.top + view.height);\n\n  for (let y = top; y < bottom; y++) {\n    for (let x = left; x < right; x++) {\n      let fieldType = this.level.grid[y][x];\n      if (fieldType === null) continue;\n      let xPosition = (x - view.left) * spriteSize;\n      let yPosition = (y - view.top) * spriteSize;\n\n      let spriteFrameNumber;\n      if (fieldType === \"water\") spriteFrameNumber = 16;\n      if (fieldType === \"block\") spriteFrameNumber = 15;\n\n      this.cx.drawImage(\n        spriteRoll,\n        (spriteFrameNumber * spriteSize), 0, spriteSize, spriteSize,\n        xPosition, yPosition, spriteSize, spriteSize\n      );\n    }\n  }\n\n  let farewellMessage = document.createElement(\"img\");\n  farewellMessage.src = \"images/win-loss.png\";\n  let messageNumber;\n\n  if (this.level.gameStatus === \"lost\") {\n    messageNumber = 1;\n    this.cx.drawImage(\n      farewellMessage,\n      (messageNumber * 400), 0,\n      400, 200,\n      400 + (right - left) / 2, 100 + (bottom - top) / 2,\n      400, 200\n    );\n  } else if (this.level.gameStatus === \"won\") {\n    messageNumber = 0;\n    this.cx.drawImage(\n      farewellMessage,\n      (messageNumber * 400), 0,\n      400, 200,\n      400 + (right - left) / 2, 100 + (bottom - top) / 2,\n      400, 200\n    );\n  } else if (new Date() - this.start < 7000) {\n    messageNumber = 2;\n    this.cx.drawImage(\n      farewellMessage,\n      (messageNumber * 400), 0,\n      400, 200,\n      400 + (right - left) / 2, 100 + (bottom - top) / 2,\n      400, 200\n    );\n  }\n};\n\nCanvas.prototype.drawMegaMan = function(x, y, width, height) {\n  let spriteFrameNumber = 0;\n  let megaman = this.level.megaman;\n\n  if (megaman.speed.x !== 0)\n    this.facingRight = megaman.speed.x < 0;\n\n  if (megaman.hit) {\n    spriteFrameNumber = 14;\n  } else if (megaman.speed.y !== 0) {\n    spriteFrameNumber = 11;\n  } else if (megaman.speed.x !== 0) {\n    spriteFrameNumber = Math.floor(this.animationTime * 12) % 10 + 1;\n  }\n\n  let rectangle = new Path2D();\n  rectangle.rect(x, y - 20, 50 * megaman.hitPoints / 50, 20);\n  this.cx.stroke(rectangle);\n  this.cx.save(); //keep drawing context intact\n\n  if (this.facingRight) flipHorizontally(this.cx, x + width / 2);\n  this.cx.drawImage(\n    spriteRoll,\n    (spriteFrameNumber * width), 0,\n    width, height,\n    x, y, width, height\n  );\n\n  this.cx.restore(); //restore drawing context\n\n};\n\nCanvas.prototype.drawBoss = function(x, y, width, height) {\n  let spriteFrameNumber = 13;\n  let boss = this.level.boss;\n  if (boss.destroyed) {\n    spriteFrameNumber = [17, 18][Math.floor(Math.random() * [17, 18].length)];\n  } else if (boss.hit) {\n    spriteFrameNumber = [17, 18][Math.floor(Math.random() * [17, 18].length)];\n  }\n\n  let rectangle = new Path2D();\n  rectangle.rect(x, y - 20, 50 * boss.hitPoints / 50, 20);\n  this.cx.stroke(rectangle);\n\n  this.cx.save(); //keep drawing context intact\n  if (this.level.megaman.pos.x > this.level.boss.pos.x) flipHorizontally(this.cx, x + width / 2);\n\n  this.cx.drawImage(\n    spriteRoll,\n    (spriteFrameNumber * width), 0,\n    width, height,\n    x, y, width, height\n  );\n\n  this.cx.restore(); //restore drawing context\n};\n\nCanvas.prototype.drawBullet = function(x, y, width, height) {\n  let spriteFrameNumber = 12;\n  this.cx.drawImage(\n    spriteRoll,\n    (spriteFrameNumber * width), 0,\n    width, height,\n    x, y, width, height\n  );\n};\n\nCanvas.prototype.drawSprites = function() {\n  this.level.sprites.forEach(function(sprite) {\n    let width = sprite.size.x * spriteSize;\n    let height = sprite.size.y * spriteSize;\n    let x = (sprite.pos.x - this.viewport.left) * spriteSize;\n    let y = (sprite.pos.y - this.viewport.top) * spriteSize;\n    if (sprite.type === \"megaman\") {\n      this.drawMegaMan(x, y, width, height);\n    } else if (sprite.type === \"boss\"){\n      this.drawBoss(x, y, width, height);\n    } else if (sprite.type === \"friendly-bullet\"){\n      this.drawBullet(x, y, width, height);\n    } else if (sprite.type === \"unfriendly-bullet\"){\n      this.drawBullet(x, y, width, height);\n    }\n  }, this);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/canvas.js","export function VectorUtil(x, y) {\n  this.x = x; this.y = y;\n}\nVectorUtil.prototype.plus = function(other) {\n  return new VectorUtil(this.x + other.x, this.y + other.y);\n};\nVectorUtil.prototype.times = function(factor) {\n  return new VectorUtil(this.x * factor, this.y * factor);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/vector_util.js","import { VectorUtil } from './vector_util';\n\nlet gravity = 45;\nlet jumpSpeed = 18;\nlet megamanXSpeed = 6;\nlet bossFiringRate =  4 / 3;\nlet megamanFiringRate = 1 / 3;\n\nexport function Boss(pos) {\n  this.pos = pos.plus(new VectorUtil(0, 0));\n  this.size = new VectorUtil(1, 1);\n  this.speed = new VectorUtil(0, 0);\n  this.hitPoints = 100;\n  this.lastFire = new Date();\n  this.hit = false;\n  this.destroyed = false;\n}\n\nBoss.prototype.type = \"boss\";\n\nBoss.prototype.moveY = function(step, game) {\n  this.speed.y += step * gravity;\n  let motion = new VectorUtil(0, this.speed.y * step);\n  let newPos = this.pos.plus(motion);\n  let collidedObject = game.findCollision(newPos, this.size);\n  if (collidedObject) {\n    game.spriteOverlapAction(collidedObject);\n    if (this.hitPoints > 0 && this.speed.y > 0) {\n      this.speed.y = 0;\n      this.speed.y = -(Math.random() * (20 - 5) + 5);\n    } else {\n      this.speed.y = 0;\n    }\n  } else {\n    this.pos = newPos;\n  }\n};\n\nBoss.prototype.act = function(step, game) {\n  this.moveY(step, game);\n\n  // this will slow down the firing rate to 3 a second\n  if (!this.destroyed) {\n    let cFire = new Date();\n    if (((cFire - this.lastFire) / 1000) > bossFiringRate){\n      let fireRight = true;\n      if (this.pos.x > game.megaman.pos.x) fireRight = false;\n      game.sprites.push(new Bullet(new VectorUtil(this.pos.x, this.pos.y), \"unfriendly-bullet\", fireRight));\n      this.lastFire = cFire;\n    }\n  }\n\n  let otherSprite = game.findOverlappingObject(this);\n  if (otherSprite) {\n    game.spriteOverlapAction(otherSprite.type, otherSprite, this);\n  } else {\n    this.hit = false;\n  }\n\n  if (game.gameStatus === \"won\") {\n    this.destroyed = true;\n  }\n};\n\nexport function Bullet(pos, bulletType, fireRight) {\n  this.pos = pos.plus(new VectorUtil(0, 0));\n  this.size = new VectorUtil(1, 1);\n  if (fireRight === true) {\n    this.speed = new VectorUtil(10, 0);\n  } else if (fireRight === false) {\n    this.speed = new VectorUtil(-10, 0);\n  } else if (window.display.facingRight) {\n    this.speed = new VectorUtil(-10, 0);\n  } else {\n    this.speed = new VectorUtil(10, 0);\n  }\n  this.type = bulletType;\n}\n\nBullet.prototype.moveX = function(step, game, keys) {\n  let motion = new VectorUtil(this.speed.x * step, 0);\n  let newPos = this.pos.plus(motion);\n  this.pos = newPos;\n};\n\nBullet.prototype.act = function(step, game) {\n  this.moveX(step, game);\n};\n\nexport function Megaman(pos) {\n  this.pos = pos.plus(new VectorUtil(0, 0));\n  this.size = new VectorUtil(1, 1);\n  this.speed = new VectorUtil(0, 0);\n  this.lastFire = new Date();\n  this.hitPoints = 50;\n  this.hit = false;\n}\n\nMegaman.prototype.type = \"megaman\";\n\nMegaman.prototype.moveX = function(step, game, keys) {\n  this.speed.x = 0;\n  if (keys.left) this.speed.x -= megamanXSpeed;\n  if (keys.right) this.speed.x += megamanXSpeed;\n\n  let motion = new VectorUtil(this.speed.x * step, 0);\n  let newPos = this.pos.plus(motion);\n  let collidedObject = game.findCollision(newPos, this.size);\n  if (collidedObject) {\n    game.spriteOverlapAction(collidedObject);\n  } else if (this.hitPoints > 0) {\n    this.hit = false;\n    this.pos = newPos;\n  }\n};\n\nMegaman.prototype.moveY = function(step, game, keys) {\n  this.speed.y += step * gravity;\n  let motion = new VectorUtil(0, this.speed.y * step);\n  let newPos = this.pos.plus(motion);\n  let collidedObject = game.findCollision(newPos, this.size);\n  if (collidedObject) {\n    game.spriteOverlapAction(collidedObject);\n    if (keys.up && this.speed.y > 0) {\n      this.speed.y = -jumpSpeed;\n    } else {\n      this.speed.y = 0;\n    }\n  } else if (this.hitPoints > 0) {\n    this.pos = newPos;\n  }\n};\n\nMegaman.prototype.act = function(step, game, keys) {\n  this.moveX(step, game, keys);\n  this.moveY(step, game, keys);\n  if (keys.shoot && this.hitPoints > 0) {\n    // this will slow down the firing rate to 3 a second\n    let cFire = new Date();\n    if (((cFire - this.lastFire) / 1000) > megamanFiringRate){\n      game.sprites.push(new Bullet(new VectorUtil(this.pos.x, this.pos.y), \"friendly-bullet\"));\n      this.lastFire = cFire;\n    }\n  }\n\n  let otherSprite = game.findOverlappingObject(this);\n  if (otherSprite) {\n    game.spriteOverlapAction(otherSprite.type, otherSprite, this);\n  }\n\n  // Losing animation\n  if (game.gameStatus === \"lost\") {\n    this.hit = true;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sprites.js"],"sourceRoot":""}